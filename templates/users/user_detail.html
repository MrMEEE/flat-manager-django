{% extends 'base.html' %}

{% block title %}{{ user_obj.username }} – User Detail{% endblock %}

{% block content %}
<nav aria-label="breadcrumb" class="mb-3">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'users:user_list' %}">Users</a></li>
        <li class="breadcrumb-item active">{{ user_obj.username }}</li>
    </ol>
</nav>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="bi bi-person"></i> {{ user_obj.username }}</h2>
    <a href="{% url 'users:user_edit' user_obj.pk %}" class="btn btn-outline-secondary">
        <i class="bi bi-pencil"></i> Edit
    </a>
</div>

<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header"><h5 class="mb-0">Account</h5></div>
            <div class="card-body">
                <dl class="row mb-0">
                    <dt class="col-sm-4">Username</dt>
                    <dd class="col-sm-8">{{ user_obj.username }}</dd>

                    <dt class="col-sm-4">Email</dt>
                    <dd class="col-sm-8">{{ user_obj.email }}</dd>

                    <dt class="col-sm-4">First name</dt>
                    <dd class="col-sm-8">{{ user_obj.first_name|default:"—" }}</dd>

                    <dt class="col-sm-4">Last name</dt>
                    <dd class="col-sm-8">{{ user_obj.last_name|default:"—" }}</dd>

                    <dt class="col-sm-4">Status</dt>
                    <dd class="col-sm-8">
                        {% if user_obj.is_active %}
                        <span class="badge bg-success">Active</span>
                        {% else %}
                        <span class="badge bg-secondary">Inactive</span>
                        {% endif %}
                    </dd>

                    <dt class="col-sm-4">Joined</dt>
                    <dd class="col-sm-8">{{ user_obj.created_at|date:"M d, Y" }}</dd>
                </dl>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-4">
        <div class="card">
            <div class="card-header"><h5 class="mb-0">Permissions</h5></div>
            <div class="card-body">
                <ul class="list-unstyled mb-0">
                    <li>
                        {% if user_obj.is_superuser %}
                        <i class="bi bi-check-circle text-success"></i>
                        {% else %}
                        <i class="bi bi-dash-circle text-muted"></i>
                        {% endif %}
                        Superuser
                    </li>
                    <li>
                        {% if user_obj.is_staff %}
                        <i class="bi bi-check-circle text-success"></i>
                        {% else %}
                        <i class="bi bi-dash-circle text-muted"></i>
                        {% endif %}
                        Staff
                    </li>
                    <li>
                        {% if user_obj.is_repo_admin %}
                        <i class="bi bi-check-circle text-success"></i>
                        {% else %}
                        <i class="bi bi-dash-circle text-muted"></i>
                        {% endif %}
                        Repo Admin
                    </li>
                    <li>
                        {% if user_obj.is_build_admin %}
                        <i class="bi bi-check-circle text-success"></i>
                        {% else %}
                        <i class="bi bi-dash-circle text-muted"></i>
                        {% endif %}
                        Build Admin
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
